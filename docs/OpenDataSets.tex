\chapter{Open data sets}
\label{chap:OpenDataSets}
The data required to render the Netherlands have been retrieved from two open data sets. Firstly, the BAG dataset \cite{BAG14} was used to extract all necessary information on buildings and secondly OpenStreetMap (OSM) \cite{OSM14} was used to retrieve information about the landscape.

The BAG (Basisadministratie Adressen en Gebouwen) is a data set which contains all kind of information on almost all the buildings and places in the Netherlands. The BAG is provided by Kadaster, but the content of the BAG is owned by the government of cities and they are also responsible to supply the information to Kadaster. A full extraction of the BAG data set called BAG-extract is freely available at various locations. We retrieved the dataset from the Nationaal georegister \cite{NG14}, a website which contains all kind of geographic open data sources. Our dataset contained a version from Januari 2014 and is 40 gB in total.

All information in the BAG-extract is supplied within xml-files and these files are grouped in multiple categories. Each category contains information on a different object-type. The different object-types are presented in table \ref{Table:ObjectTypesBAG} and a full diagram containing all fields of the objects and connections between object types is presented in appendix \ref{chap:DiagramStructureBAG}. All geometric information in the BAG-extract is presented according to the Geography Markup Language (GML). GML is a standard format of providing geometric information with XML.

\begin{table}
  \centering
  \begin{tabular}{l|l}
    \textbf{Object type} & \textbf{Content}     \\ \hline
    Towns & Name, boundaries and status  \\ \hline
    Public spaces & Name of the place  \\ \hline
    Numbering & Addresses of buildings and places  \\ \hline
    Buildings & Building surface geometry, build year and status  \\ \hline
    Residences & Geometric location, surface area and status  \\ \hline
    Berths & Surface geometry and status  \\ \hline
    Other areas & Surface geometry and status \\
  \end{tabular}
  \caption{Object-types of the BAG-extract}
  \label{Table:ObjectTypesBAG}
\end{table}

To be able to process all the data in the BAG, the project NLExtract [4] is used to process all data into a database. A script was created to pre-process the data from the database to simple xml-files, which are used to construct the buildings. The numberings object type are filtered to be able to create a small data set which can be used during development. This way only residences with an address in Eindhoven are selected for the construction of buildings. The surface geometry of buildings and the surface area of residences are used to approximate the height of a building.

OpenStreetmap is a website which can be compared to GoogleMaps. Both systems provide a detailed map of the whole world. In contrast to GoogleMaps however, most information which is shown on OpenStreetMap have been provided by the community. Also, the data generated by the project and which is created by the community is accessible freely. Data acquired from OSM is provided in a raw format. The library OSMSharp [5] is used to read and process all the data from OSM. The elements specified by OSM are presented in table \ref{Table:ObjectTypesOSM}. Our system currently only uses ways and nodes with particular tags to render roads; water areas and some other surface area types. Relations between elementents are ignored.
\begin{table}[h]
    \centering
    \begin{tabular}{c|p{10cm}}
       \textbf{Element} &  \textbf{Content}     \\ \hline
      Nodes & Points in space in longitude and latitude  \\ \hline
      Ways & Ordered list on nodes as a (closed) polygon or a polyline describing an area, roads or rivers. Tags are used to specify the type of the way.  \\ \hline
      Relation & Data structure to specify relationship between two or more elements  \\
    \end{tabular}
    \caption{Object-types of the OSM data set}
    \label{Table:ObjectTypesOSM}
\end{table} 